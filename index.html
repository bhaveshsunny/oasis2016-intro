<!DOCTYPE html>
<html>
<head>
	<script src="./js/jquery.min.js"></script>
	<link rel="stylesheet" href="./css/style.css">
	<script src="./js/turn-min.js"></script>
	<!-- <script src="./js/jgestures.min.js"></script> -->
	<script src="./js/hash.js"></script>
	<title>OASIS 2016 | OF GODS AND MEN | BITS Pilani</title>
	<link href="https://fonts.googleapis.com/css?family=Lato" rel='stylesheet' type='text/css'>
</head>
<body>
	<div class="stars"></div>
  <div class="twinkling"></div>
	<div class="clouds"></div>
	<div class="center">


		<div id="book_box">
			<div id="magazine">
				<!-- <div ignore="1" class="tabs"><div class="left">  </div> <div class="right"> </div></div> -->
				<div style="background-image:url(img/extraBevel.jpg);background-repeat:no-repeat;background-position: center;" class="hard out">
					<div class="mascot"></div>
					<svg version="1.1" id="svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
					width="100%" height="100%" viewBox="0 0 515 767" enable-background="new 0 0 515 767" xml:space="preserve">
					<path fill-rule="evenodd" id="path-1"  stroke="#fff0a0" stroke-width="4" clip-rule="evenodd" fill="none" d="M88.916,70.794h134.796c0,0-29.165,23.835-14.582,58.699
					c14.582,34.863,44.102,35.575,64.73,30.239c20.628-5.336,43.481-34.479,31.298-66.881c-6.479-17.232-16.841-21.913-17.698-22.774
					l138.669,0.607c0,0-51.781,22.271-44.594,70.218c2.938,19.604,9.061,27.445,15.428,34.797c0,0-32.553,13.936-56.144-1.864
					c-16.262-11.449-29.545-32.955-29.545-32.955s-8.929,34.847,11.672,57.092c8.928,9.641,24.402,10.825,21.312,33.248
					c0,0-2.618,12.377-9.412,15.454c0,0,48.793,32.19,65.545,84.525c3.63,11.34,7.059,33.896,6.724,38.748
					c0,0-43.456-8.069-57.905,53.361c-2.938,12.493,5.633,54.383,23.265,60.507c17.632,6.125,42.305,43.037,44.814,50.954
					c12.07,38.074,1.355,73.313-10.938,86.944c-12.293,13.631-21.929,34.909-79.742,39.896c-57.813,4.987-92.7-58.846-91.371-90.431
					s7.974-43.886,11.629-50.203c0,0-88.894-9.037-111.85-100.303c0,0-74.356,29.825-74.356-44.707s0.755-131.987,0.755-131.987
					s42.921,0.411,31.158-41.063c-5.157-18.183-30.246-15.836-31.58-15.836l-0.158-91.125c0,0,27.625,77.619,102.788,42.966
					c0,0,13.3,57.239-56.913,73.946c0,0,33.698,20.998,73.631-4.086c9.994-6.277,34.163-9.3,37.185,19.297
					c0,0,41.366-12.889,77.865-0.204c0,0,8.544-33.629,37.141-20.242c28.596,13.387,40.162,21.319,74.902,4.068
					c0,0-59.911,2.629-58.564-73.307c0,0,64.207,37.294,103.718-40.439l1.068,87.31c0,0-37.104,0.194-32.744,35.213
					c2.268,18.211,18.828,23.798,31.424,23.956l0.822,138.053c0,0-1.732,65.327-73.95,36.588c0,0-24.633,93.54-113.208,101.224
					c0,0,48.965,101.213-54.445,138.2c-67.555,24.162-113.614-45.781-117.628-63.058c-4.014-17.276-7.225-54.24,17.26-83.168
					c24.486-28.928,72.365-50.5,45.027-112.701c-13.939-31.715-47.905-28.295-51.526-30.71c0,0,16.292-93.573,73.615-121.344
					c0,0-16.162-13.022-4.198-33.162c11.963-20.14,34.309-14.45,29.405-73.329c0,0-24.989,56.282-85.319,35.152
					c0,0,27.878-36.696,8.248-70.772C106.811,71.329,92.957,72.527,88.916,70.794z"/>
					<path fill-rule="evenodd" id="path-2" stroke="#fff0a0" stroke-width="4" clip-rule="evenodd" fill="none" d="M425.105,695.815H290.23c0,0,29.181-23.849,14.591-58.733
					c-14.591-34.884-44.128-35.596-64.769-30.256s-43.506,34.499-31.316,66.92c6.482,17.243,16.851,21.925,17.708,22.788l-138.75-0.608
					c0,0,51.812-22.284,44.62-70.258c-2.94-19.615-9.066-27.461-15.437-34.817c0,0,32.572-13.943,56.177,1.866
					c16.271,11.456,29.562,32.974,29.562,32.974s8.934-34.868-11.679-57.125c-8.934-9.646-24.417-10.832-21.324-33.267
					c0,0,2.619-12.384,9.417-15.463c0,0-48.822-32.209-65.584-84.574c-3.632-11.347-7.063-33.916-6.728-38.771
					c0,0,43.481,8.074,57.939-53.392c2.94-12.5-5.636-54.415-23.278-60.542c-17.643-6.128-42.33-43.062-44.841-50.983
					c-12.077-38.095-1.356-73.355,10.944-86.994c12.301-13.639,21.942-34.929,79.789-39.919c57.847-4.99,92.754,58.881,91.424,90.484
					c-1.33,31.603-7.979,43.911-11.636,50.231c0,0,88.946,9.042,111.916,100.361c0,0,74.4-29.842,74.4,44.733
					c0,74.575-0.756,132.063-0.756,132.063s-42.946-0.412-31.176,41.086c5.16,18.193,30.263,15.845,31.598,15.845l0.158,91.177
					c0,0-27.642-77.663-102.848-42.991c0,0-13.308-57.272,56.946-73.989c0,0-33.718-21.01-73.674,4.088
					c-9.999,6.281-34.183,9.305-37.206-19.308c0,0-41.391,12.896-77.91,0.204c0,0-8.55,33.649-37.163,20.254
					c-28.613-13.395-40.185-21.332-74.945-4.071c0,0,59.946-2.631,58.598,73.35c0,0-64.244-37.316-103.779,40.462l-1.069-87.36
					c0,0,37.126-0.194,32.763-35.234c-2.269-18.221-18.839-23.812-31.442-23.969l-0.823-138.134c0,0,1.733-65.364,73.993-36.609
					c0,0,24.647-93.594,113.275-101.283c0,0-48.994-101.272,54.477-138.28c67.594-24.177,113.68,45.808,117.696,63.095
					c4.017,17.286,7.229,54.271-17.27,83.217c-24.5,28.945-72.407,50.529-45.053,112.766c13.947,31.734,47.933,28.312,51.556,30.728
					c0,0-16.301,93.627-73.657,121.414c0,0,16.171,13.03,4.2,33.181c-11.971,20.152-34.329,14.458-29.422,73.372
					c0,0,25.003-56.314,85.369-35.172c0,0-27.895,36.717-8.253,70.813C407.2,695.281,421.061,694.082,425.105,695.815z"/>
				</svg>

			</div>
			<div  class="hard out" style="background-image:url(img/C2.jpg);">
				<div class="instructions">
					<div class="inner">
						<div class="title">Tips</div>
						<div class="content">Use arrow keys in your keyboard to turn the page</div>
						<div class="content">Hold the left mouse button at the corners to turn the page</div>
						<div class="content">Press the number on keyboard corresponding to the starting page number of the content</div>
					</div>
				</div>
				<div class="depth" id="ld"> </div>
			</div>
			<div  class="in_page own-size"><div style="background-image:url(img/COVER.jpg);background-repeat:no-repeat;background-position: center;" class="page_content">
				<div class="tHead">Content</div>
				<div class="textras">
				<img class="star" src="img/star.png">
				<div class="hrule"></div>
				<img class="star" src="img/star.png">
				</div>
				<div class="tBody">
					<br>
					<a href="#page/4"><p><span class="description">About Oasis</span><span class="dots">...........................................................................................</span><span class="pNo">4-6</span></p></a>
					<br><br>
					<a href="#page/6"><p><span class="description">Contacts</span><span class="dots">...........................................................................................</span><span class="pNo">6-7</span></p></a>
					<br><br>
					<a href="#page/8"><p><span class="description">Sponsors</span><span class="dots">...........................................................................................</span><span class="pNo">8-8</span></p></a>
				</div>
				<img class="logo" src="img/logo.png" />
			</div></div>
			<div  class="in_page own-size"><div style="background-image:url(img/page01-part1.jpg);background-repeat:no-repeat;background-position: center;" class="page_content">
				<div class="tHead">Lorem Ipsum</div>
				<div class="tBody">Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum</div>
			</div></div>
			<div  class="in_page own-size"><div style="background-image:url(img/page01-part2.jpg);background-repeat:no-repeat;background-position: center;" class="page_content"></div></div>
			<div  class="in_page own-size"><div style="background-image:url(img/page02-part1.jpg);background-repeat:no-repeat;background-position: center;" class="page_content"></div></div>
			<div  class="in_page own-size"><div style="background-image:url(img/page02-part1.jpg);background-repeat:no-repeat;background-position: center;" class="page_content"></div></div>
			<div  class="in_page own-size"><div style="background-image:url(img/page02-part1.jpg);background-repeat:no-repeat;background-position: center;" class="page_content"></div></div>
			<div  class="in_page own-size"><div style="background-image:url(img/page02-part2.jpg);background-repeat:no-repeat;background-position: center;" class="page_content"></div></div>
			<div  class="in_page own-size"><div style="background-image:url(img/page03-part1.jpg);background-repeat:no-repeat;background-position: center;" class="page_content"></div></div>
			<div  class="in_page own-size"><div style="background-image:url(img/page03-part2.jpg);background-repeat:no-repeat;background-position: center;" class="page_content"></div></div>
			<div  class="in_page own-size"><div style="background-image:url(img/page2.jpg);background-repeat:no-repeat;background-position: center;" class="page_content"></div></div>
			<div  class="hard fixed out" style="background-image:url(img/C2.jpg);background-repeat:no-repeat;background-position: center;" id="last"><div class="depth" id="rd"></div></div>
			<div  class="hard out backCover" style="background-image:url(img/temporaryBackCover.jpg);background-repeat:no-repeat;background-position: center;"><div ></div></div>
		</div>

	</div>
</div>




<div id="footer">
	<div id="logoMain">
		<img src="img/logo.png" alt="">
	</div>
	<div class="pbox">
		<div class = "row">
			<div class="ctime" id="month">hello2</div>
			<div id="bar">
			<div id="bar2"></div>
			</div>
			<div ><img class="slogo" src="img/glow.png"></div>
		</div>
		<div class="row">
			<div class="ctime" id="days"> <span>140</span> days remaining</div>
		</div>
	</div>
	<div id="s_box">
		<div class="social_strip">
			<a href="https://www.facebook.com/oasis.bitspilani" target="_blank"><img src="img/sfb.png" class="s_icons" /></a>
			<a href="https://www.twitter.com/bitsoasis" target="_blank"><img src="img/stwi.png" class="s_icons" /></a>
			<a href="http://www.youtube.com/user/OasisBITS" target="_blank"><img src="img/syou.png" class="s_icons" /></a>
		</div>
	</div>
</div>


<script type="text/javascript">


function updateTabs() {

var tabs = {5: 'Page 5', 7:'Page 7'},
	left = [],
	right = [],
	book = $('#magazine'),
	actualPage = book.turn('page'),
	view = book.turn('view');

for (var page in tabs) {
	var isHere = $.inArray(parseInt(page, 4), view)!=-1;

	if (page>actualPage && !isHere)
		right.push('<a href="#page/' + page + '">' + tabs[page] + '</a>');
	else if (isHere) {

		if (page%2===0)
			left.push('<a href="#page/' + page + '" class="on">' + tabs[page] + '</a>');
		else
			right.push('<a href="#page/' + page + '" class="on">' + tabs[page] + '</a>');
	} else
		left.push('<a href="#page/' + page + '">' + tabs[page] + '</a>');

}

$('#magazine .tabs .left').html(left.join(''));
$('#magazine .tabs .right').html(right.join(''));

}


	function updateDepth(book, newPage) {

		var page = book.turn('page'),
		pages = book.turn('pages'),
		depthWidth = 16*Math.min(1, page*2/pages);

		newPage = newPage || page;

		if (newPage>4)
			$('#magazine .p2 .depth').css({
				width: depthWidth,
				left: 20 - depthWidth
			});
		else
			$('#magazine .p2 .depth').css({width: 0});

		depthWidth = 16*Math.min(1, (pages-page)*2/pages);

		if (newPage<pages-4)
			$('#magazine .p13 .depth').css({
				width: depthWidth,
				right: 20 - depthWidth
			});
		else
			$('#magazine .p13 .depth').css({width: 0});

	};



	window.onload=function(){$(".mascot").hide().css({'background-image':'url(./img/glow.png)'}).fadeIn(3000); };


 var globalPage=0;

	//config
	$('#magazine').turn({
		elevation: 50,
		acceleration: !isChrome(),
		autoCenter: true,
		pages: 14,
		gradients: true,
		// display: window.innerWidth > 675 ? "double" : "single",
		duration: 1500,
		when: {

			turning: function(e, page, view) {
				globalPage=0;
				var book = $(this),
				currentPage = book.turn('page'),
				pages = book.turn('pages');

				Hash.go('page/'+page).update();
				// if (page==1 || page==pages)
				// 				$('#magazine .tabs').hide();
				// 				if (page!=1 && page!=book.turn('pages'))
				// 			$('#magazine .tabs').fadeIn(100);
				// 		else
				// 			$('#magazine .tabs').hide();

				updateDepth(book, page);
				if (page>=2)
					$('.p2').addClass('fixed');
				else
					$('.p2').removeClass('fixed');

				if (page<book.turn('pages'))
					$('.p13').addClass('fixed');
				else
					$('.p13').removeClass('fixed');

				//responsive for small screens

				if($(window).width() < 694)
				{
					if(page==1){

						$('#magazine').css("right",(($(window).width() - $(this).outerWidth()/2) / 2) + $(window).scrollLeft()  + "px");
						$('#magazine').css("left","0");
					}

					else if(page==14){

						$('#magazine').css("right",(($(window).width() - 1.5*$(this).outerWidth()) / 2) + $(window).scrollLeft()  + "px");
						$('#magazine').css("left","0");
					}


					else  {
						$('#magazine').css("right","0");
						$('#magazine').css("left",(($(window).width() - $(this).outerWidth()/2) / 2) + $(window).scrollLeft()  + "px");
					}
				}

			},


			turned: function(e, page, view) {

				updateTabs();
			}
		}
	});


	// $('#magazine').turn("size", 0.521*window.innerWidth,0.799*window.innerHeight);


	Hash.on('^page\/([0-9]*)$', {
			yep: function(path, parts) {
				var page = parts[1];

				if (page!==undefined) {
					if ($('#magazine').turn('is'))
						$('#magazine').turn('page', page);
				}

			},
			nop: function(path) {

				if ($('#magazine').turn('is'))
					$('#magazine').turn('page', 1);
			}
		});

  var i = 3




	$(window).bind('keydown', function(e){

		if (e.keyCode==37)
			$('#magazine').turn('previous');
		else if (e.keyCode==39)
			$('#magazine').turn('next');
		else if(e.keyCode >= 49 && e.keyCode <= 57 ){
						$('.p1').addClass('hard');
					$('#magazine').turn('page', e.keyCode-48);
				}
		$('path').css({animation: 'none'});

	});

// 	$(window).bind("swipeone swipeleft", function(event) {
// 	$("#flipbook").turn("next");
// });
//
// $(window).bind("swipeone swiperight", function(event) {
// 	$("#flipbook").turn("previous");
// });
// 	$("#flipbook").bind("first", function(event, page, view) {
//
// 		console.log('page 1');
//
// 	});


	function isChrome() {

		return navigator.userAgent.indexOf('Chrome')!=-1;

	};




	// Month picker

	var monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
	var d = new Date();

	$('#month').html(monthNames[d.getMonth()]);


	// Progress Bar Width
	var compdate= new Date("2016-05-01");
	var oasisdate= new Date("2016-10-19");
	var width = 100-(oasisdate-d)/(oasisdate-compdate)*100;
	width = String(width)+'%';
	$('#bar2').css('width', width);

	//Days remaining
	var daysRem =  Math.floor(( Date.parse(oasisdate) - Date.parse(d) ) / 86400000);
	$('#days span').html(daysRem);
	// $(".mascot").hide().css({'background-image':'url(./img/glow.png)'}).fadeIn(2000); };



//initial center magazine
(function(){

	$('#magazine').css("position","absolute");
	//
	// $('#magazine').css("top", Math.max(0, (($(window).height() - $($('#magazine')).outerHeight()) / 2) +
	//                                             $(window).scrollTop()) + "px");

	if($(window).width() > 694)
	{
		$('#magazine').css("left", (($(window).width() - $('#magazine').outerWidth()) / 2) + $(window).scrollLeft() + "px");
		$('#magazine').addClass('bigScreenTransition');
	}
	else{
		$('#magazine').css("right",(($(window).width() - ($('#magazine').outerWidth()/2)) / 2) + $(window).scrollLeft() + "px");
		$('#magazine').addClass('smlScreenTransition');
	}

})();


//dots filler in content page

setTimeout(function(){
	$('.tBody a p').each(function(index,element){
		var paraWidth=$(element).width();
		var descWidth=$(element).children('.description').outerWidth();
		var pNoWidth=$(element).children('.pNo').width();
		var $dots=$(element).children('.dots');
		var dotsWidth=paraWidth-(descWidth+pNoWidth+2);
		$dots.width(dotsWidth+"px");
	});
	$('.description').each(function(i,ele){ console.log($(ele).width()); });

},1);


</script>
</body>
</html>
